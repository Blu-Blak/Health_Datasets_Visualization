<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Questions Explorer | Interactive Data Visualization</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- D3.js v7 -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Custom visualization scripts -->
    <script src="js/main.js" defer></script>
    <script src="js/anatomy.js" defer></script>
    <script src="js/sunburst.js" defer></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <h1 class="main-title">
                <span class="icon">üè•</span>
                Medical Questions Explorer
            </h1>
            <p class="subtitle">Interactive Analysis of 40,000+ Medical Questions from Clinical Vignettes</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="navigation">
        <div class="container">
            <button class="nav-btn active" data-viz="anatomy">
                <span class="nav-icon">ü´Ä</span>
                <span class="nav-text">Body Systems</span>
            </button>
            <button class="nav-btn" data-viz="sunburst">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">Demographics</span>
            </button>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="main-content">
        <div class="container">
            <div class="content-grid">
                <!-- Visualization Container -->
                <section class="viz-container">
                    <!-- Anatomy Visualization -->
                    <div id="viz-anatomy" class="visualization active">
                        <div class="viz-header">
                            <h2>Interactive Human Body Diagram</h2>
                            <p class="viz-description">Click on body regions to explore medical conditions by system</p>
                        </div>
                        <div id="anatomy-svg-container" class="svg-container"></div>
                        <div class="viz-legend">
                            <p><strong>Instructions:</strong> Hover over body regions to preview stats, click for detailed analysis</p>
                        </div>
                    </div>

                    <!-- Sunburst Visualization -->
                    <div id="viz-sunburst" class="visualization">
                        <div class="viz-header">
                            <h2>Demographics Analysis - Multi-Dataset Comparison</h2>
                            <p class="viz-description">Comparing patient demographics across two medical datasets</p>
                        </div>
                        <div id="sunburst-container" class="svg-container"></div>
                        <div class="viz-legend">
                            <p><strong>Instructions:</strong> View demographics from two different medical datasets. Dataset 1 shows age/gender sunburst, Dataset 2 shows disease patterns by demographics</p>
                        </div>
                    </div>

                </section>

                <!-- Info Panel (Right Side) -->
                <aside class="info-panel">
                    <div class="panel-header">
                        <h3 id="panel-title">Overview</h3>
                        <button class="close-btn" id="close-panel" aria-label="Close panel">√ó</button>
                    </div>
                    
                    <div class="panel-content" id="panel-content">
                        <div class="welcome-info">
                            <h4>Welcome to Medical Questions Explorer</h4>
                            <p>This interactive visualization explores <strong>40,644 medical questions</strong> from clinical vignettes.</p>
                            
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-number">40,644</div>
                                    <div class="stat-label">Questions</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number">14</div>
                                    <div class="stat-label">Body Systems</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number">33.9%</div>
                                    <div class="stat-label">Age Identified</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number">33.0%</div>
                                    <div class="stat-label">Gender Identified</div>
                                </div>
                            </div>

                            <div class="info-section">
                                <h5>üìä Visualizations Available:</h5>
                                <ul>
                                    <li><strong>Body Systems:</strong> Interactive anatomy diagram showing conditions by body region</li>
                                    <li><strong>Demographics:</strong> Age and gender distribution in sunburst chart</li>
                                </ul>
                            </div>

                            <div class="info-section">
                                <h5>üéØ How to Use:</h5>
                                <ul>
                                    <li>Switch between visualizations using the navigation buttons above</li>
                                    <li>Hover over elements for quick information</li>
                                    <li>Click on elements for detailed analysis in this panel</li>
                                    <li>Use zoom and interaction features in each visualization</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Datasets used:</h4>
                    <p>
                        <a href="https://huggingface.co/datasets/FreedomIntelligence/medical-o1-verifiable-problem" 
                           target="_blank" 
                           rel="noopener noreferrer">
                            FreedomIntelligence/medical-o1-verifiable-problem
                        </a>
                    </p>
                    <p>
                        <a href="https://huggingface.co/datasets/FreedomIntelligence/medical-o1-reasoning-SFT" 
                           target="_blank" 
                           rel="noopener noreferrer">
                            FreedomIntelligence/medical-o1-reasoning-SFT
                        </a>
                    </p>
                    <p class="small">40,000+ medical questions and ground-truth answers</p>
                </div>
                <div class="footer-section">
                    <h4>Technologies</h4>
                    <p>D3.js v7, Python (Pandas), HTML5, CSS3</p>
                </div>
                <div class="footer-section">
                    <h4>Project Info</h4>
                    <p>Data Visualization Course Project</p>
                    <p class="small">IIIT Hyderabad ‚Ä¢ Semester 4 ‚Ä¢ 2026</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Medical Questions Explorer | Built with ‚ù§Ô∏è for understanding healthcare data</p>
            </div>
        </div>
    </footer>

    <!-- Loading Indicator -->
    <div id="loading-indicator" class="loading-indicator">
        <div class="spinner"></div>
        <p>Loading visualization data...</p>
    </div>

    <!-- Tooltip (Global) -->
    <div id="tooltip" class="tooltip"></div>
</body>
</html>
